
# Sessão 1 – Fundamentos do Docker (foco em Python)

## Objetivo da sessão

Ao final desta sessão, o aluno deve:
- Entender o que é Docker e por que usar.
- Saber a diferença entre containers e máquinas virtuais.
- Conhecer os principais conceitos: imagem, container, Dockerfile.
- Rodar um pequeno script Python dentro de um container.
- Construir sua própria imagem com um `Dockerfile` simples.

---

## 1. O que é Docker?

Docker é uma plataforma que permite **empacotar aplicações** e todas as suas dependências em unidades padronizadas chamadas **containers**.

### Por que isso é útil?

- Garante que a aplicação rode **igual** em qualquer ambiente (dev, homolog, prod).
- Evita o famoso problema: “funciona na minha máquina”.
- Isola dependências (versão de Python, libs, sistema) por projeto.
- Facilita o deploy e a escalabilidade.

---

## 2. Containers vs Máquinas Virtuais

**Máquina Virtual (VM)**:
- Emula um sistema operacional completo.
- Pesada: precisa de um SO inteiro para cada VM.
- Inicialização lenta.

**Container**:
- Compartilha o **kernel** do sistema operacional host.
- Muito mais leve e rápido.
- Focado em empacotar apenas o necessário para a aplicação.

**Resumo**: Containers são como “mini-ambientes” isolados, muito mais leves do que VMs.

---

## 3. Conceitos Básicos do Docker

- **Imagem (Image)**  
  Um “template” imutável com tudo que sua aplicação precisa para rodar (código + dependências + sistema mínimo).

- **Container**  
  Uma **instância em execução** de uma imagem. Você pode ter vários containers a partir da mesma imagem.

- **Dockerfile**  
  Arquivo de texto com instruções para o Docker montar uma imagem (FROM, RUN, COPY, CMD, etc).

- **Registry (ex.: Docker Hub)**  
  Repositório de imagens. Você baixa (`pull`) e envia (`push`) imagens para lá.

---

## 4. Comandos básicos de Docker

### Verificar instalação
```bash
docker --version
docker run hello-world
```

### Trabalhando com imagens
```bash
# Listar imagens
docker images

# Baixar uma imagem do Docker Hub
docker pull python:3.11-slim

# Remover uma imagem
docker rmi <image_id_ou_nome>
```

### Trabalhando com containers
```bash
# Listar containers em execução
docker ps

# Listar todos (inclusive parados)
docker ps -a

# Rodar um container interativamente com Python
docker run -it python:3.11-slim python

# Sair do Python interativo (dentro do container)
exit()

# Rodar um comando simples e terminar
docker run python:3.11-slim python --version

# Parar um container
docker stop <container_id>

# Remover um container
docker rm <container_id>
```

---

## 5. Primeiro exemplo com Python dentro do Docker

Crie um arquivo `app.py`:

```python
# app.py
import sys
import platform

print("Hello from inside a Docker container!")
print("Versão do Python:", sys.version)
print("Sistema operacional:", platform.system(), platform.release())
```

Crie um `requirements.txt`:
```txt
requests==2.31.0
```

---

## 6. Criando seu primeiro Dockerfile para Python

Crie um arquivo chamado `Dockerfile`:

```dockerfile
FROM python:3.11-slim
ENV PYTHONDONTWRITEBYTECODE=1     PYTHONUNBUFFERED=1
WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
COPY . .
CMD ["python", "app.py"]
```

### Build
```bash
docker build -t meu-python-app .
```

### Execução
```bash
docker run meu-python-app
```

---

## 7. Exercícios sugeridos
1. Criar variável de ambiente e imprimir no `app.py`.
2. Executar container com `-e`.
3. Criar imagem com Python 3.10 e comparar.
